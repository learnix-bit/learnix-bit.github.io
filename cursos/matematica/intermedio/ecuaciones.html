<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Learnix - Ecuaciones de Primer Grado</title>
<style>
/* ===== ESTILO BASE APROBADO ===== */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
body{background-color:#1e1e1e;background-image:linear-gradient(135deg,#1e1e1e,#252525);color:#e0e0e0;display:flex;flex-direction:column;min-height:100vh;}
header{background-color:#1e1e1e;display:flex;justify-content:space-between;align-items:center;padding:15px 30px;position:sticky;top:0;z-index:100;border-bottom:2px solid #2e2e2e;}
header .logo{display:flex;align-items:center;gap:10px;}
header .logo img{height:40px;}
header nav{display:flex;align-items:center;gap:8px;}
header nav a{margin-left:20px;font-weight:500;color:#bbb;text-decoration:none;transition:color .3s ease;}
header nav a:hover, header nav a.active{color:#00bcd4;}
.header-right{display:flex;align-items:center;gap:14px;}
.points{background-color:#2a2a2a;color:#ffd36e;padding:8px 12px;border-radius:999px;display:inline-flex;align-items:center;gap:8px;font-weight:700;border:1px solid #333;}
.points img{width:20px;height:20px;display:block;}
.points.pulse{animation:pulse .36s ease-in-out;}
@keyframes pulse{0%{transform:scale(1);}50%{transform:scale(1.08);}100%{transform:scale(1);}}

footer{background-color:#1e1e1e;text-align:center;padding:15px;border-top:2px solid #2e2e2e;margin-top:auto;}
.btn{display:inline-flex;align-items:center;gap:8px;background-color:#00bcd4;color:#fff;padding:10px 20px;border-radius:8px;margin-top:10px;transition:background .3s ease;text-decoration:none;cursor:pointer;border:none;}
.btn:hover{background-color:#008ba3;}
.btn img{width:20px;height:20px;}

.contenido{padding:40px 20px;max-width:980px;margin:auto;text-align:center;}
.contenido h2{font-size:2.2rem;color:#00bcd4;margin-bottom:12px;}
.lead{font-size:1.05rem;color:#ccc;margin-bottom:20px;line-height:1.6;}

.subtema{background-color:#2a2a2a;padding:20px;border-radius:12px;margin-bottom:18px;box-shadow:0 4px 12px rgba(0,0,0,.3);text-align:left;}
.subtema h3{color:#fff;font-size:1.2rem;margin-bottom:10px;}
.subtema p, .subtema li{color:#bbb;font-size:1rem;margin-bottom:8px;line-height:1.55;}

.row{display:flex;gap:18px;flex-wrap:wrap;}
.col{flex:1 1 280px;min-width:260px}

pre.code{background:#212121;padding:12px;border-radius:8px;color:#dcdcdc;overflow:auto;font-size:.95rem;border:1px solid #2b2b2b;}

.ejercicio{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap;align-items:center;}
input[type="number"], input[type="text"], select, .quiz button{
  padding:10px;border-radius:8px;border:1px solid #2e2e2e;background:#00000040;color:#e0e0e0;outline:none;
}
input::placeholder{color:#9aa0a6;}
label{color:#ccc;}

.resultado{margin-top:10px;color:#fff;font-weight:700;background: rgba(0,0,0,0.25);padding:10px;border-radius:8px;}

.acciones{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin:14px 0;}

.feedback-list{margin-top:12px;color:#e0e0e0;text-align:left;}
.feedback-item{padding:10px;border-radius:8px;margin-bottom:8px;animation:slideIn .28s ease;}
.correct{background: rgba(0,128,0,0.12);border-left:4px solid #20c997;color:#c6ffd9;}
.wrong{background: rgba(255,0,0,0.08);border-left:4px solid #ff6b6b;color:#ffd9d9;}
@keyframes slideIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

/* Tarjetas del quiz (estilo profesional) */
.quiz-card{background:#1f1f1f;border:1px solid #2b2b2b;border-radius:12px;padding:14px;margin-bottom:12px;transition:transform .2s ease, box-shadow .2s ease;}
.quiz-card:hover{transform:translateY(-2px);box-shadow:0 8px 18px rgba(0,0,0,.35);}
.quiz-title{color:#e5e5e5;font-weight:600;margin-bottom:8px;}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:.78rem;background:#00bcd425;color:#84e7f1;border:1px solid #00bcd4;}

/* Responsive */
@media(max-width:640px){
  .contenido{padding:20px 12px;}
  .row{flex-direction:column;}
  header{padding:12px;}
}

/* Bot flotante Chloe */
.chloe-bot{position:fixed;bottom:20px;right:20px;background-color:#00bcd4;border-radius:50%;width:60px;height:60px;display:flex;justify-content:center;align-items:center;box-shadow:0 4px 8px rgba(0,0,0,.2);}
</style>
</head>
<body>

<!-- Encabezado con puntos globales -->
<header>
  <div class="logo">
    <img src="../../../img/logo/logo.svg" alt="Learnix Logo">
    <h1>Learnix</h1>
  </div>
  <nav>
    <a href="../../../index.html">Inicio</a>
    <a href="../../../cursos.html" class="active">Cursos</a>
    <a href="../../../perfil.html">Perfil</a>
    <a href="../../../login.html">Login</a>
    <a href="../../../favoritos.html">Favoritos</a>
  </nav>
  <div class="header-right">
    <div class="points" title="Puntos acumulados">
      <img src="https://img.icons8.com/fluency/48/star.png" alt="star">
      <span id="puntos">0</span>
    </div>
  </div>
</header>

<main class="contenido">
  <h2>Ecuaciones de Primer Grado — Profundización</h2>
  <p class="lead">Definición detallada, propiedades y fórmulas, ejemplos paso a paso, herramientas interactivas, ejercicios autocorregibles y mini-quiz con puntos globales (10 pts por acierto, reclamables una sola vez).</p>

  <!-- 1. Definición detallada -->
  <section class="subtema">
    <h3>1) Definición Detallada</h3>
    <p>Una <strong>ecuación de primer grado</strong> (o lineal) es una igualdad que involucra una incógnita <em>x</em> en la <strong>primera potencia</strong> (no aparecen x², x³, raíces de x, ni productos x·x). Su forma general puede escribirse como:</p>
    <pre class="code">ax + b = c   ⟺   ax + b − c = 0</pre>
    <p>donde <strong>a, b, c ∈ ℝ</strong> y <strong>a ≠ 0</strong>. Resolverla consiste en <em>despejar x</em> para encontrar el valor que hace verdadera la igualdad.</p>
  </section>

  <!-- 2. Propiedades y fórmulas -->
  <section class="subtema">
    <h3>2) Propiedades y Fórmulas Clave</h3>
    <ul>
      <li><strong>Transposición de términos:</strong> pasar sumando/restando al otro lado con signo opuesto.</li>
      <li><strong>Propiedad de igualdad:</strong> puedes sumar/restar/multiplicar/dividir <em>ambos lados</em> por el mismo número (≠ 0) sin cambiar las soluciones.</li>
      <li><strong>Forma resuelta:</strong> <code>ax + b = c  ⇒  x = (c − b)/a</code>.</li>
      <li><strong>Casos especiales:</strong>
        <ul>
          <li>Si <code>a = 0</code> y <code>b = c</code> ⇒ <em>Infinitas soluciones</em> (identidad).</li>
          <li>Si <code>a = 0</code> y <code>b ≠ c</code> ⇒ <em>Sin solución</em> (contradicción).</li>
        </ul>
      </li>
    </ul>
    <p class="small">Nota: simplifica siempre y revisa dominios si aparecen fracciones para evitar dividir por cero.</p>
  </section>

  <!-- 3. Ejemplos resueltos -->
  <section class="subtema">
    <h3>3) Ejemplos Resueltos (paso a paso)</h3>
    <div class="row">
      <div class="col">
        <p><strong>Ejemplo A:</strong> Resolver <code>2x + 3 = 7</code></p>
        <pre class="code">
2x + 3 = 7
2x = 7 − 3         (resto 3 en ambos lados)
2x = 4
x = 4 / 2
x = 2
        </pre>
      </div>
      <div class="col">
        <p><strong>Ejemplo B:</strong> Resolver <code>5 − 3x = 2</code></p>
        <pre class="code">
5 − 3x = 2
−3x = 2 − 5        (resto 5 en ambos lados)
−3x = −3
x = (−3)/(−3)
x = 1
        </pre>
      </div>
    </div>
  </section>

  <!-- 4. Herramientas Interactivas -->
  <section class="subtema">
    <h3>4) Herramientas Interactivas</h3>
    <div class="row">
      <!-- Calculadora ax + b = c -->
      <div class="col">
        <h4>Calculadora de solución (ax + b = c)</h4>
        <div class="ejercicio">
          <label>a:</label><input id="inA" type="number" step="any" placeholder="a">
          <label>b:</label><input id="inB" type="number" step="any" placeholder="b">
          <label>c:</label><input id="inC" type="number" step="any" placeholder="c">
          <button class="btn" onclick="resolverABC()"><img src="https://img.icons8.com/color/48/calculator.png" alt="calc"> Resolver</button>
        </div>
        <div id="outABC" class="resultado" aria-live="polite">—</div>
      </div>

      <!-- Analizador rápido Ax + B = C (texto) -->
      <div class="col">
        <h4>Analizador (formato tipo: 2x - 5 = 9)</h4>
        <div class="ejercicio">
          <input id="inTexto" type="text" placeholder="ej. 2x - 5 = 9" style="min-width:230px">
          <button class="btn" onclick="parseYResolver()"><img src="https://img.icons8.com/color/48/search.png" alt="parse"> Analizar</button>
        </div>
        <div id="outTexto" class="resultado" aria-live="polite">—</div>
      </div>
    </div>
  </section>

  <!-- 5. Ejercicios Prácticos (autocorregibles) -->
  <section class="subtema">
    <h3>5) Ejercicios Prácticos (autocorregibles)</h3>
    <ol style="color:#ccc; margin-left:18px;">
      <li>Resuelve: <strong>3x + 4 = 16</strong> → x = <input id="ex1" type="text" placeholder="resultado"></li>
      <li style="margin-top:10px;">Resuelve: <strong>7 − 2x = 1</strong> → x = <input id="ex2" type="text" placeholder="resultado"></li>
      <li style="margin-top:10px;">Resuelve: <strong>5x − 15 = 0</strong> → x = <input id="ex3" type="text" placeholder="resultado"></li>
    </ol>
    <button class="btn" onclick="chequearEjercicios()"><img src="https://img.icons8.com/color/48/check.png" alt="check"> Chequear respuestas</button>
    <div id="outEj" class="resultado" style="margin-top:10px">—</div>
  </section>

  <!-- 6. Mini-Quiz -->
  <section class="subtema">
    <h3>6) Mini-Quiz (5 preguntas, 10 pts c/u)</h3>
    <p class="small">Los puntos se acumulan globalmente y solo pueden obtenerse una vez en este quiz. Recibirás explicación para cada pregunta.</p>
    <div id="quiz"></div>
    <div id="quizResultado" class="resultado">—</div>
    <div id="feedback" class="feedback-list" aria-live="polite"></div>
  </section>

  <!-- 7. Tip de Memotecnia -->
  <section class="subtema">
    <h3>7) Tip de Memotecnia</h3>
    <p><strong>MBE:</strong> <em>Mueve – Borra – Equilibra</em>.</p>
    <ul>
      <li><strong>Mueve:</strong> pasa términos al otro lado cambiando el signo.</li>
      <li><strong>Borra:</strong> simplifica (combina semejantes, reduce fracciones, quita paréntesis).</li>
      <li><strong>Equilibra:</strong> divide o multiplica ambos lados por el mismo número (≠ 0) para despejar x.</li>
    </ul>
  </section>

  <!-- Navegación -->
  <div class="acciones">
    <a href="../intermedio.html" class="btn" title="Volver a nivel intermedio"><img src="https://img.icons8.com/color/48/home.png" alt="home"> Nivel Intermedio</a>
    <a href="sistemas-ecuaciones.html" class="btn" title="Siguiente: Sistemas de ecuaciones"><img src="https://img.icons8.com/color/48/right.png" alt="next"> Siguiente: Sistemas</a>
    <a href="../../../cursos.html" class="btn" title="Volver a cursos" style="background:#444;"><img src="https://img.icons8.com/color/48/left.png" alt="volver"> Cursos</a>
  </div>
</main>

<!-- Bot flotante Chloe -->
<a href="#chatbot-chloe" class="chloe-bot" title="Chloe">
  <img src="../../../img/chatbot/chloe-icon.svg" alt="Chatbot Chloe" style="width:38px;height:38px;">
</a>

<footer>
  <p>© 2025 Learnix - NeoStudio</p>
</footer>

<script>
/* ==== PUNTOS GLOBALES ==== */
let puntosGlobales = parseInt(localStorage.getItem('puntosGlobales')) || 0;
document.getElementById('puntos').textContent = puntosGlobales;

/* ==== HERRAMIENTAS ==== */
// Calculadora ax + b = c
function resolverABC(){
  const a = parseFloat(document.getElementById('inA').value);
  const b = parseFloat(document.getElementById('inB').value);
  const c = parseFloat(document.getElementById('inC').value);
  const out = document.getElementById('outABC');

  if([a,b,c].some(v => Number.isNaN(v))){
    out.textContent = 'Completa a, b y c con números válidos.'; return;
  }
  if(a === 0){
    if(b === c){ out.textContent = 'Identidad: infinitas soluciones (a=0 y b=c).'; }
    else { out.textContent = 'Contradicción: sin solución (a=0 y b≠c).'; }
    return;
  }
  const x = (c - b) / a;
  out.innerHTML = `Pasos: ax + b = c → ax = c − b → x = (c − b)/a = (${c} − ${b})/${a} = <strong>${redondear(x)}</strong>`;
}

// Parser simple para expresiones tipo "Ax + B = C"
function parseYResolver(){
  const raw = (document.getElementById('inTexto').value || '').replace(/\s+/g,'');
  const out = document.getElementById('outTexto');
  // Formatos aceptados: [+/-]A x  [+/-]B  =  [+/-]C
  // Ej: 2x-5=9, -3x+7=1, x+4=10 (A=1), -x-2=3 (A=-1)
  const m = raw.match(/^([+\-]?)(\d*)x([+\-]\d+)?=([+\-]?\d+)$/i);
  if(!m){
    out.textContent = 'Formato no reconocido. Ejemplos válidos: 2x-5=9, x+4=10, -x-2=3'; return;
  }
  let sign = m[1] === '-' ? -1 : 1;
  let A = m[2] ? parseFloat(m[2]) * sign : 1 * sign;
  let B = m[3] ? parseFloat(m[3]) : 0;
  let C = parseFloat(m[4]);

  if(A === 0){
    if(B === C){ out.textContent = 'Identidad: infinitas soluciones.'; }
    else{ out.textContent = 'Contradicción: sin solución.'; }
    return;
  }
  const x = (C - B)/A;
  out.innerHTML = `
    Detectado: A=${A}, B=${B}, C=${C}<br>
    Pasos: Ax + B = C → Ax = C − B → x = (C − B)/A = (${C} − ${B})/${A} = <strong>${redondear(x)}</strong>
  `;
}

function redondear(n){ return Math.round(n*100000)/100000; }

/* ==== EJERCICIOS AUTOCORREGIBLES ==== */
function chequearEjercicios(){
  const out = document.getElementById('outEj');

  const v1 = (document.getElementById('ex1').value || '').trim().replace(',', '.');
  const v2 = (document.getElementById('ex2').value || '').trim().replace(',', '.');
  const v3 = (document.getElementById('ex3').value || '').trim().replace(',', '.');

  const ok1 = Math.abs(parseFloat(v1) - 4) < 1e-9;      // 3x+4=16 → x=4
  const ok2 = Math.abs(parseFloat(v2) - 3) < 1e-9;      // 7−2x=1 → −2x=−6 → x=3
  const ok3 = Math.abs(parseFloat(v3) - 3) < 1e-9;      // 5x−15=0 → 5x=15 → x=3

  const correct = [ok1,ok2,ok3].filter(Boolean).length;

  let detalles = [];
  if(!ok1) detalles.push('1) 3x+4=16 ⇒ 3x=12 ⇒ x=12/3=4');
  if(!ok2) detalles.push('2) 7−2x=1 ⇒ −2x=1−7=−6 ⇒ x=(−6)/(−2)=3');
  if(!ok3) detalles.push('3) 5x−15=0 ⇒ 5x=15 ⇒ x=15/5=3');

  let msg = `${correct}/3 correctas. ${detalles.length?(' — ' + detalles.join(' | ')):' ¡Excelente!'}`;

  // Bonus opcional por completar todos (una sola vez en esta página)
  if(correct===3 && !localStorage.getItem('epg_ej_puntos')){
    puntosGlobales += 5;
    localStorage.setItem('puntosGlobales', puntosGlobales);
    localStorage.setItem('epg_ej_puntos', 'true');
    document.getElementById('puntos').textContent = puntosGlobales;
    msg += ' (+5 pts bonus)';
    const pEl = document.querySelector('.points'); if(pEl){ pEl.classList.add('pulse'); setTimeout(()=>pEl.classList.remove('pulse'), 420); }
  }
  out.textContent = msg;
}

/* ==== MINI QUIZ (5 preguntas, 10 pts c/u, globales y solo 1 vez) ==== */
const QUIZ_FLAG_KEY = 'epg_quiz_done';
const quizData = [
  {
    q:'Resuelve: 4x + 6 = 22',
    options:['x = 3','x = 4','x = 5'],
    answer:0,
    explanation:'4x+6=22 ⇒ 4x=16 ⇒ x=16/4=4. (Ojo: la correcta es x=4; si marcaste 3, olvidaste restar 6 primero.)'
  },
  {
    q:'En ax+b=c, la fórmula directa para x es:',
    options:['x = (a − b)/c','x = (c − b)/a','x = (b − c)/a'],
    answer:1,
    explanation:'Despeje: ax+b=c ⇒ ax=c−b ⇒ x=(c−b)/a.'
  },
  {
    q:'Caso especial: si a=0 y b=c, entonces:',
    options:['Sin solución','Única solución','Infinitas soluciones'],
    answer:2,
    explanation:'Si a=0, la ecuación no depende de x: b=c ⇒ identidad ⇒ infinitas soluciones.'
  },
  {
    q:'Resuelve: 9 − 3x = 0',
    options:['x = 3','x = −3','x = 0'],
    answer:0,
    explanation:'9−3x=0 ⇒ −3x=−9 ⇒ x=(−9)/(−3)=3.'
  },
  {
    q:'Resuelve: −x − 5 = 10',
    options:['x = −15','x = 15','x = 5'],
    answer:1,
    explanation:'−x−5=10 ⇒ −x=15 ⇒ x=−15? No: multiplica por (−1) ambos lados ⇒ x=−15·(−1)=15.'
  }
];

function generarQuiz(){
  const quizDiv = document.getElementById('quiz');
  quizData.forEach((item,i)=>{
    const card = document.createElement('div'); card.className='quiz-card';
    const title = document.createElement('div'); title.className='quiz-title';
    title.innerHTML = `<span class="badge">Pregunta ${i+1}</span> ${item.q}`;
    card.appendChild(title);
    item.options.forEach((opt,j)=>{
      const lbl = document.createElement('label'); lbl.style.display='block'; lbl.style.margin='6px 0';
      lbl.innerHTML = `<input type="radio" name="q${i}" value="${j}"> ${opt}`;
      card.appendChild(lbl);
    });
    quizDiv.appendChild(card);
  });
  const btn = document.createElement('button');
  btn.className='btn';
  btn.innerHTML='<img src="https://img.icons8.com/color/48/check.png" alt="check"> Enviar Quiz';
  btn.onclick=evaluarQuiz;
  quizDiv.appendChild(btn);
}

function evaluarQuiz(){
  let puntosGanados = 0;
  const feedback = [];
  quizData.forEach((item,i)=>{
    const sel = document.querySelector(`input[name="q${i}"]:checked`);
    if(!sel){
      feedback.push(`<div class="feedback-item wrong">P${i+1}: ❌ No respondida. ${item.explanation}</div>`);
      return;
    }
    const v = parseInt(sel.value);
    if(v === item.answer){
      puntosGanados += 10;
      feedback.push(`<div class="feedback-item correct">P${i+1}: ✅ Correcto</div>`);
    } else {
      feedback.push(`<div class="feedback-item wrong">P${i+1}: ❌ Incorrecto. ${item.explanation}</div>`);
    }
  });

  // Sumar puntos globales una sola vez en este quiz
  const resDiv = document.getElementById('quizResultado');
  if(!localStorage.getItem(QUIZ_FLAG_KEY)){
    puntosGlobales += puntosGanados;
    localStorage.setItem('puntosGlobales', puntosGlobales);
    localStorage.setItem(QUIZ_FLAG_KEY, 'true');
    document.getElementById('puntos').textContent = puntosGlobales;
    resDiv.innerHTML = `Total: ${puntosGanados} pts (sumados a tu cuenta)`;
    const pEl = document.querySelector('.points'); if(pEl){ pEl.classList.add('pulse'); setTimeout(()=>pEl.classList.remove('pulse'), 420); }
  } else {
    resDiv.innerHTML = `Total este intento: ${puntosGanados} pts (ya reclamaste los puntos de este quiz).`;
  }

  const fb = document.getElementById('feedback');
  fb.innerHTML = feedback.join('');
}

// Helpers: enter para inputs numéricos
function attachEnter(id, fn){
  const el = document.getElementById(id);
  if(!el) return;
  el.addEventListener('keydown', e=>{ if(e.key==='Enter') fn(); });
}

// Init
window.addEventListener('DOMContentLoaded', ()=>{
  generarQuiz();
  attachEnter('inC', resolverABC);
  attachEnter('inTexto', parseYResolver);
});
</script>
</body>
</html>
